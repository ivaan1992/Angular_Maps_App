"use strict";(self.webpackChunk_09_Maps_App=self.webpackChunk_09_Maps_App||[]).push([[580],{580:(x,p,l)=>{l.r(p),l.d(p,{MapsModule:()=>Z});var m=l(895),g=l(322),e=l(256),s=l(898);const u=["map"];let d=(()=>{class o{constructor(){this.lngLat=[0,0]}ngAfterViewInit(){const t=new s.Map({container:this.divMap.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:this.lngLat,zoom:15,interactive:!1});(new s.Marker).setLngLat(this.lngLat).addTo(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-mini-map"]],viewQuery:function(t,n){if(1&t&&e.Gf(u,5),2&t){let a;e.iGM(a=e.CRH())&&(n.divMap=a.first)}},inputs:{lngLat:"lngLat"},decls:2,vars:0,consts:[["map",""]],template:function(t,n){1&t&&e._UZ(0,"div",null,0)},styles:["div[_ngcontent-%COMP%]{width:100%;height:9.375rem;margin:0}"]}),o})();function M(o,r){if(1&o&&(e.TgZ(0,"div",5)(1,"div",6),e._UZ(2,"app-mini-map",7),e.TgZ(3,"div",8)(4,"h5",9),e._uU(5),e.qZA(),e.TgZ(6,"p",10),e._uU(7),e.qZA()()()()),2&o){const t=r.$implicit;e.xp6(2),e.Q6J("lngLat",t.lngLat),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(t.description)}}let h=(()=>{class o{constructor(){this.estates=[{title:"Residential house, Canada",description:"Beautiful estate in Katana, Canada.",lngLat:[-75.92722289474008,45.280015511264466]},{title:"Beach house, Mexico",description:"Beautiful beach house in Acapulco, Mexico.",lngLat:[-99.91287720907991,16.828940930185748]},{title:"Apartment, Argentina",description:"Luxury apartment in the heartof the city  Buenos Aires, Argentina.",lngLat:[-58.430166677283445,-34.57150108832866]},{title:"Commercial premises, Spain",description:"Commercial space available in Madrid, Spain, near El Jard\xedn Secreto.",lngLat:[-3.7112735618380177,40.42567285425766]}]}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-estates"]],decls:11,vars:1,consts:[[1,"row","mt-3"],[1,"col-2"],[1,"col"],[1,"row"],["class","col-4 mb-2",4,"ngFor","ngForOf"],[1,"col-4","mb-2"],[1,"card"],[1,"card-img-top",3,"lngLat"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"h1"),e._uU(4,"Estates List"),e.qZA(),e._UZ(5,"hr"),e.qZA()(),e.TgZ(6,"div",3),e._UZ(7,"div",1),e.TgZ(8,"div",2)(9,"div",3),e.YNc(10,M,8,3,"div",4),e.qZA()()()),2&t&&(e.xp6(10),e.Q6J("ngForOf",n.estates))},dependencies:[m.sg,d],encapsulation:2}),o})(),f=(()=>{class o{constructor(){}ngOnInit(){new s.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[-98.26989694777838,19.050234835083913],zoom:3})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-full-screen"]],decls:1,vars:0,consts:[["id","map"]],template:function(t,n){1&t&&e._UZ(0,"div",0)},styles:["#map[_ngcontent-%COMP%]{width:100%;height:100%}"]}),o})();const _=["map"],k=function(o){return{"background-color":o}};function v(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",5),e.NdJ("click",function(){const i=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.goToMarker(i.marker))})("dblclick",function(){const i=e.CHM(t).index,c=e.oxw();return e.KtG(c.removeMarker(i))}),e._uU(1),e.qZA()}if(2&o){const n=r.index;e.Q6J("ngStyle",e.VKq(2,k,r.$implicit.color)),e.xp6(1),e.hij(" Marker ",n+1," ")}}let C=(()=>{class o{constructor(){this.zoomLevel=15,this.lngLat=[-98.26989694777838,19.050234835083913],this.markers=[]}ngAfterViewInit(){this.markersMap=new s.Map({container:this.divMap.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:this.lngLat,zoom:this.zoomLevel}),this.readLocalStorage()}addMarker(){const t="#xxxxxx".replace(/x/g,a=>(16*Math.random()|0).toString(16)),n=new s.Marker({draggable:!0,color:t}).setLngLat(this.lngLat).addTo(this.markersMap);this.markers.push({color:t,marker:n}),this.saveMarkersAtLocalStorage(),n.on("dragend",()=>{this.saveMarkersAtLocalStorage()})}goToMarker(t){this.markersMap.flyTo({center:t.getLngLat()})}saveMarkersAtLocalStorage(){const t=[];this.markers.forEach(n=>{const a=n.color,{lng:i,lat:c}=n.marker.getLngLat();t.push({color:a,center:[i,c]})}),localStorage.setItem("markers",JSON.stringify(t))}readLocalStorage(){localStorage.getItem("markers")&&JSON.parse(localStorage.getItem("markers")).forEach(n=>{const a=new s.Marker({color:n.color,draggable:!0}).setLngLat(n.center).addTo(this.markersMap);this.markers.push({marker:a,color:n.color}),a.on("dragend",()=>{this.saveMarkersAtLocalStorage()})})}removeMarker(t){this.markers[t].marker?.remove(),this.markers.splice(t,1),this.saveMarkersAtLocalStorage()}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-markers"]],viewQuery:function(t,n){if(1&t&&e.Gf(_,5),2&t){let a;e.iGM(a=e.CRH())&&(n.divMap=a.first)}},decls:6,vars:1,consts:[[1,"zoom-map"],["map",""],[1,"list-group"],[1,"list-group-item","list-group-item-info",3,"click"],["class","list-group-item white",3,"ngStyle","click","dblclick",4,"ngFor","ngForOf"],[1,"list-group-item","white",3,"ngStyle","click","dblclick"]],template:function(t,n){1&t&&(e._UZ(0,"div",0,1),e.TgZ(2,"ul",2)(3,"li",3),e.NdJ("click",function(){return n.addMarker()}),e._uU(4," + Add "),e.qZA(),e.YNc(5,v,2,4,"li",4),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngForOf",n.markers))},dependencies:[m.sg,m.PC],styles:[".zoom-map[_ngcontent-%COMP%]{width:100%;height:100%}.list-group[_ngcontent-%COMP%]{cursor:pointer;position:fixed;top:1rem;right:1rem;z-index:99}.white[_ngcontent-%COMP%]{color:#fff;font-weight:700}"]}),o})();const L=["map"],z=[{path:"",children:[{path:"fullscreen",component:f},{path:"zoom-range",component:(()=>{class o{constructor(){this.zoomLevel=10,this.lngLat=[-98.26989694777838,19.050234835083913]}ngOnDestroy(){this.zoomRangerMap.off("zoom",()=>{}),this.zoomRangerMap.off("zoomend",()=>{}),this.zoomRangerMap.off("move",()=>{})}ngAfterViewInit(){this.zoomRangerMap=new s.Map({container:this.divMap.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:this.lngLat,zoom:this.zoomLevel}),this.zoomRangerMap.on("zoom",t=>{this.zoomLevel=this.zoomRangerMap.getZoom()}),this.zoomRangerMap.on("zoomend",t=>{this.zoomRangerMap.getZoom()>19&&this.zoomRangerMap.zoomTo(19)}),this.zoomRangerMap.on("move",t=>{const n=t.target,{lng:a,lat:i}=n.getCenter();this.lngLat=[a,i]})}zoomOut(){this.zoomRangerMap.zoomOut()}zoomIn(){this.zoomRangerMap.zoomIn()}zoomChange(t){this.zoomRangerMap.zoomTo(Number(t))}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-zoom-range"]],viewQuery:function(t,n){if(1&t&&e.Gf(L,5),2&t){let a;e.iGM(a=e.CRH())&&(n.divMap=a.first)}},decls:16,vars:13,consts:[[1,"zoom-map"],["map",""],[1,"row"],[1,"col-12"],[1,"form-label"],["type","range","min","0","max","19",1,"form-range",3,"value","input"],["zoomInput",""],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary","float-end",3,"click"]],template:function(t,n){if(1&t){const a=e.EpF();e._UZ(0,"div",0,1),e.TgZ(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"number"),e.ALo(7,"number"),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"input",5,6),e.NdJ("input",function(){e.CHM(a);const c=e.MAs(10);return e.KtG(n.zoomChange(c.value))}),e.qZA()(),e.TgZ(11,"div",3)(12,"button",7),e.NdJ("click",function(){return n.zoomOut()}),e._uU(13," - "),e.qZA(),e.TgZ(14,"button",8),e.NdJ("click",function(){return n.zoomIn()}),e._uU(15," + "),e.qZA()()()}2&t&&(e.xp6(5),e.lnq(" Zoom: ",e.xi3(6,4,n.zoomLevel,"2.0-2")," -Lng, Lat: [ ",e.xi3(7,7,n.lngLat[0],"2.4-4"),", ",e.xi3(8,10,n.lngLat[1],"2.4-4")," ] "),e.xp6(4),e.Q6J("value",n.zoomLevel))},dependencies:[m.JJ],styles:[".zoom-map[_ngcontent-%COMP%]{width:100%;height:100%}.row[_ngcontent-%COMP%]{width:400px;background-color:#fff;border-radius:5px;bottom:3.125rem;left:3.125rem;padding:.625rem;position:fixed;z-index:999}"]}),o})()},{path:"markers",component:C},{path:"estates",component:h},{path:"**",redirectTo:"fullscreen"}]}];let y=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(z),g.Bz]}),o})(),Z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.ez,y]}),o})()}}]);